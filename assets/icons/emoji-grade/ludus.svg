<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <!-- LUDUS EMOJI-GRADE: "The Mechanics" - Game controller with dendritic skill tree -->
  <!-- Ref: PILLAR_THEMATIC_SCHEMA.md - "Play encoded in systematic rules" -->
  <!-- Ref: EMOJI_GRADE_PROMPTS.md - Controller + skill tree + D20 + resource bars -->
  <!-- Target: 16-32px emoji scale, Apple-quality rendering -->

  <defs>
    <!-- Controller body gradient: highlight (#d4f5e3) → primary (#81c995) → forest (#5fa876) -->
    <linearGradient id="le-body" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#d4f5e3"/>
      <stop offset="35%" stop-color="#81c995"/>
      <stop offset="100%" stop-color="#5fa876"/>
    </linearGradient>
    <!-- Active glow for skill nodes and active button -->
    <radialGradient id="le-glow" cx="0.5" cy="0.5" r="0.6">
      <stop offset="0%" stop-color="#5ff59f"/>
      <stop offset="100%" stop-color="#5ff59f" stop-opacity="0"/>
    </radialGradient>
    <!-- D-pad gradient -->
    <linearGradient id="le-dpad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#6eb584"/>
      <stop offset="100%" stop-color="#5fa876"/>
    </linearGradient>
  </defs>

  <!-- LAYER 1: Dendritic skill tree (Y-fork branches behind controller) -->
  <!-- Ref: PILLAR_INSIGNIA_STRUCTURAL.md - "Skill tree encodes RPG rules" -->
  <g opacity="0.5">
    <!-- Main trunk -->
    <path d="M50,80 L50,60" stroke="#5fa876" stroke-width="2.5" stroke-linecap="round" fill="none"/>
    <!-- Primary Y-fork -->
    <path d="M50,60 L38,45" stroke="#5fa876" stroke-width="2" stroke-linecap="round" fill="none"/>
    <path d="M50,60 L62,45" stroke="#5fa876" stroke-width="2" stroke-linecap="round" fill="none"/>
    <!-- Secondary forks -->
    <path d="M38,45 L32,34" stroke="#5fa876" stroke-width="1.5" stroke-linecap="round" fill="none"/>
    <path d="M38,45 L42,33" stroke="#5fa876" stroke-width="1.5" stroke-linecap="round" fill="none"/>
    <path d="M62,45 L58,33" stroke="#5fa876" stroke-width="1.5" stroke-linecap="round" fill="none"/>
    <path d="M62,45 L68,34" stroke="#5fa876" stroke-width="1.5" stroke-linecap="round" fill="none"/>
  </g>

  <!-- Skill nodes: active (#5ff59f) and dormant (#648f6f) -->
  <!-- Active root node -->
  <circle cx="50" cy="60" r="4" fill="url(#le-glow)"/>
  <circle cx="50" cy="60" r="2.5" fill="#5ff59f"/>
  <!-- Active mid nodes -->
  <circle cx="38" cy="45" r="3" fill="#5ff59f" opacity="0.8"/>
  <circle cx="62" cy="45" r="3" fill="#5ff59f" opacity="0.8"/>
  <!-- Dormant leaf nodes -->
  <circle cx="32" cy="34" r="2" fill="#648f6f" opacity="0.7"/>
  <circle cx="42" cy="33" r="2" fill="#648f6f" opacity="0.7"/>
  <circle cx="58" cy="33" r="2" fill="#648f6f" opacity="0.7"/>
  <circle cx="68" cy="34" r="2" fill="#648f6f" opacity="0.7"/>

  <!-- LAYER 2: Controller body -->
  <!-- Ref: SYMBOL_DRIVEN_DESIGN_SYSTEM.md - "rounded squares (game buttons, approachable precision)" -->
  <!-- Shadow layer for depth -->
  <rect x="24" y="57" width="52" height="30" rx="8" fill="#2d4d3a" opacity="0.35"/>
  <!-- Main body -->
  <rect x="23" y="55" width="54" height="30" rx="8" fill="url(#le-body)"/>
  <!-- Highlight band along top edge -->
  <rect x="28" y="56" width="44" height="3" rx="1.5" fill="#d4f5e3" opacity="0.4"/>

  <!-- LAYER 3: D-pad (directional cross) -->
  <!-- Ref: LUDUS_iterations.md - "D-pad cross on the left in darker strategic forest green" -->
  <g>
    <rect x="30" y="66" width="12" height="4.5" rx="2" fill="url(#le-dpad)"/>
    <rect x="34" y="62" width="4.5" height="12" rx="2" fill="url(#le-dpad)"/>
    <!-- Center dot -->
    <circle cx="36.25" cy="68.25" r="1.5" fill="#81c995"/>
    <!-- Directional highlight -->
    <rect x="31" y="67" width="10" height="1" rx="0.5" fill="#b8e6c9" opacity="0.4"/>
  </g>

  <!-- LAYER 4: Action buttons (diamond arrangement) -->
  <!-- Four buttons: active/ready/normal/warning states -->
  <!-- Top (Active - glowing green) -->
  <circle cx="62" cy="62" r="4" fill="#5ff59f" opacity="0.4"/>
  <circle cx="62" cy="62" r="3.5" fill="#5ff59f"/>
  <circle cx="62" cy="62" r="2.5" fill="#d4f5e3"/>
  <!-- Right (Ready - mint) -->
  <circle cx="69" cy="68" r="3.5" fill="#b8e6c9"/>
  <circle cx="69" cy="68" r="2.5" fill="#d4f5e3" opacity="0.5"/>
  <!-- Bottom (Normal - mint) -->
  <circle cx="62" cy="74" r="3.5" fill="#b8e6c9"/>
  <circle cx="62" cy="74" r="2.5" fill="#d4f5e3" opacity="0.3"/>
  <!-- Left (Warning - orange) -->
  <circle cx="55" cy="68" r="3.5" fill="#ff9d5f"/>
  <circle cx="55" cy="68" r="2.5" fill="#ffd4b8" opacity="0.5"/>

  <!-- LAYER 5: D20 die (polyhedral - procedural RNG element) -->
  <!-- Ref: PILLAR_INSIGNIA_STRUCTURAL.md - "D20: RNG for combat resolution" -->
  <g transform="translate(82, 28)">
    <polygon points="0,-8 -7,0 -4,7 4,7 7,0" fill="#b8e6c9" opacity="0.8" stroke="#5fa876" stroke-width="1"/>
    <!-- Face lines -->
    <line x1="0" y1="-8" x2="-4" y2="7" stroke="#5fa876" stroke-width="0.5" opacity="0.4"/>
    <line x1="0" y1="-8" x2="4" y2="7" stroke="#5fa876" stroke-width="0.5" opacity="0.4"/>
    <text x="0" y="2" font-size="5" fill="#5fa876" text-anchor="middle" font-weight="bold" font-family="sans-serif">20</text>
  </g>

  <!-- LAYER 6: Resource bars (HP/Mana at sides) -->
  <!-- Ref: LUDUS_iterations.md - "Resource bars as thin dendritic growth lines" -->
  <!-- HP bar (left edge) -->
  <rect x="8" y="35" width="5" height="22" rx="2.5" fill="#2d4d3a" opacity="0.35"/>
  <rect x="8" y="42" width="5" height="15" rx="2.5" fill="#95c981"/>
  <rect x="9" y="43" width="3" height="6" rx="1.5" fill="#d4f5e3" opacity="0.3"/>
  <!-- Mana bar (right edge) -->
  <rect x="87" y="35" width="5" height="22" rx="2.5" fill="#2d4d3a" opacity="0.35"/>
  <rect x="87" y="38" width="5" height="19" rx="2.5" fill="#81c9b8"/>
  <rect x="88" y="39" width="3" height="8" rx="1.5" fill="#b8e6c9" opacity="0.3"/>

  <!-- LAYER 7: Turn order indicators (top) -->
  <!-- Ref: PILLAR_INSIGNIA_STRUCTURAL.md - "3 circular tokens: initiative queue" -->
  <circle cx="23" cy="20" r="4.5" fill="#5ff59f" opacity="0.9"/>
  <circle cx="23" cy="20" r="3.5" fill="#5ff59f"/>
  <text x="23" y="22" font-size="5" fill="#2d4d3a" text-anchor="middle" font-weight="bold" font-family="sans-serif">1</text>
  <circle cx="36" cy="20" r="4" fill="#648f6f" opacity="0.6"/>
  <text x="36" y="22" font-size="4.5" fill="#2d4d3a" text-anchor="middle" font-family="sans-serif">2</text>
  <circle cx="48" cy="20" r="4" fill="#648f6f" opacity="0.5"/>
  <text x="48" y="22" font-size="4.5" fill="#2d4d3a" text-anchor="middle" font-family="sans-serif">3</text>

  <!-- LAYER 8: Energy flow (dynamic diagonal suggesting action) -->
  <!-- Ref: LUDUS_iterations.md - "Dynamic diagonal energy flows suggesting action momentum" -->
  <path d="M15,50 Q35,30 55,38 Q70,25 85,30" stroke="#5ff59f" stroke-width="2" opacity="0.45" fill="none" stroke-linecap="round"/>
  <!-- Flow particles -->
  <circle cx="30" cy="38" r="1.5" fill="#5ff59f" opacity="0.7"/>
  <circle cx="55" cy="35" r="1" fill="#5ff59f" opacity="0.6"/>
  <circle cx="75" cy="27" r="1.5" fill="#5ff59f" opacity="0.8"/>

  <!-- LAYER 9: Tactical grid hint (bottom, subtle) -->
  <g stroke="#5fa876" stroke-width="0.5" opacity="0.15">
    <line x1="20" y1="90" x2="80" y2="90"/>
    <line x1="20" y1="95" x2="80" y2="95"/>
    <line x1="30" y1="88" x2="30" y2="97"/>
    <line x1="50" y1="88" x2="50" y2="97"/>
    <line x1="70" y1="88" x2="70" y2="97"/>
  </g>
</svg>

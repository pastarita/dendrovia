<?xml version="1.0" encoding="UTF-8"?>
<svg viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
  <!-- IMAGINARIUM STRUCTURAL INSIGNIA: The Distillation Apparatus -->
  <!-- Horizontal flow: Raw prompts (left) → Prismatic separation (center) → Asset outputs (right) -->

  <defs>
    <!-- Chaos input gradient -->
    <radialGradient id="chaosInput" cx="0.3" cy="0.3">
      <stop offset="0%" stop-color="#e5d4ff"/>
      <stop offset="50%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#9b6dd8"/>
    </radialGradient>

    <!-- Prism crystal gradient -->
    <linearGradient id="prismGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#ffffff" stop-opacity="0.9"/>
      <stop offset="50%" stop-color="#e5d4ff"/>
      <stop offset="100%" stop-color="#c6a0f6"/>
    </linearGradient>

    <!-- Pipeline metallic -->
    <linearGradient id="pipeGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#e5d4ff"/>
      <stop offset="50%" stop-color="#9b6dd8"/>
      <stop offset="100%" stop-color="#7d5ab8"/>
    </linearGradient>

    <!-- Swirl pattern (generative chaos) -->
    <pattern id="swirlPattern" patternUnits="userSpaceOnUse" width="6" height="6">
      <path d="M0,3 Q3,0 6,3" stroke="#9b6dd8" stroke-width="0.5" fill="none" opacity="0.3"/>
    </pattern>

    <!-- Rainbow spectrum for output rays -->
    <linearGradient id="ray1" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#ff6b9d"/>
    </linearGradient>
    <linearGradient id="ray2" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#ffa07a"/>
    </linearGradient>
    <linearGradient id="ray3" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#ffd700"/>
    </linearGradient>
    <linearGradient id="ray4" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#90ee90"/>
    </linearGradient>
    <linearGradient id="ray5" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#87ceeb"/>
    </linearGradient>
    <linearGradient id="ray6" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#9370db"/>
    </linearGradient>
    <linearGradient id="ray7" x1="0" y1="0" x2="1" y2="0">
      <stop offset="0%" stop-color="#c6a0f6"/>
      <stop offset="100%" stop-color="#e0b0ff"/>
    </linearGradient>
  </defs>

  <!-- LAYER 1: INPUT HOPPER (left 20%) -->
  <g id="input-hopper">
    <!-- Alchemical flask -->
    <path d="M8,35 L8,25 Q8,22 10,20 L15,20 Q17,22 17,25 L17,35 Q17,45 25,50 L25,60 Q25,65 20,65 Q15,65 15,60 L15,50 Q8,45 8,35 Z"
          fill="url(#chaosInput)" stroke="#9b6dd8" stroke-width="1"/>

    <!-- Swirling generative chaos inside -->
    <ellipse cx="12.5" cy="28" rx="3" ry="5" fill="url(#swirlPattern)"/>
    <ellipse cx="12.5" cy="50" rx="5" ry="7" fill="url(#swirlPattern)"/>

    <!-- Vapor rising (inspiration) -->
    <path d="M12,20 Q10,15 12,10 M13,20 Q15,14 13,8"
          stroke="#e5d4ff" stroke-width="0.8" fill="none" opacity="0.5" stroke-dasharray="2,1"/>

    <!-- Floating prompt fragments -->
    <text x="10" y="12" font-size="2" fill="#9b6dd8" opacity="0.6">raw</text>
    <text x="14" y="16" font-size="2" fill="#9b6dd8" opacity="0.6">idea</text>
    <text x="8" y="70" font-size="2" fill="#9b6dd8" opacity="0.6">chaos</text>

    <!-- Label -->
    <text x="16" y="73" font-size="3" fill="#9b6dd8" text-anchor="middle" font-weight="bold">INPUT</text>
  </g>

  <!-- LAYER 2: PIPELINE TO PRISM (connection) -->
  <g id="input-pipeline">
    <rect x="25" y="48" width="18" height="4" fill="url(#pipeGrad)" rx="2"/>
    <circle cx="28" cy="50" r="1.5" fill="#7d5ab8"/>
    <circle cx="40" cy="50" r="1.5" fill="#7d5ab8"/>
  </g>

  <!-- LAYER 3: PRISMATIC SEPARATOR (center) -->
  <g id="prism-core">
    <!-- Hexagonal prism body -->
    <polygon points="50,30 60,40 60,60 50,70 40,60 40,40"
             fill="url(#prismGrad)" stroke="#c6a0f6" stroke-width="2"/>

    <!-- Inner crystalline structure -->
    <polygon points="50,35 56,42 56,58 50,65 44,58 44,42"
             fill="none" stroke="#e5d4ff" stroke-width="1" opacity="0.6"/>

    <!-- Facet lines -->
    <line x1="50" y1="30" x2="50" y2="70" stroke="#ffffff" stroke-width="0.5" opacity="0.8"/>
    <line x1="40" y1="40" x2="60" y2="60" stroke="#ffffff" stroke-width="0.5" opacity="0.6"/>
    <line x1="40" y1="60" x2="60" y2="40" stroke="#ffffff" stroke-width="0.5" opacity="0.6"/>

    <!-- Input beam (white chaos light) -->
    <line x1="43" y1="50" x2="35" y2="50" stroke="#ffffff" stroke-width="3" opacity="0.8"/>

    <!-- Refraction point -->
    <circle cx="50" cy="50" r="3" fill="#ffffff" opacity="0.9"/>

    <!-- Label -->
    <text x="50" y="53" font-size="2.5" fill="#9b6dd8" text-anchor="middle" font-weight="bold">PRISM</text>
  </g>

  <!-- LAYER 4: SEVEN OUTPUT RAYS (refracted spectrum) -->
  <g id="output-rays">
    <!-- Ray 1: Color (top) -->
    <line x1="57" y1="50" x2="75" y2="25" stroke="url(#ray1)" stroke-width="2" opacity="0.8"/>
    <text x="76" y="24" font-size="2" fill="#ff6b9d">Color</text>

    <!-- Ray 2: Normal -->
    <line x1="57" y1="50" x2="77" y2="35" stroke="url(#ray2)" stroke-width="2" opacity="0.8"/>
    <text x="78" y="35" font-size="2" fill="#ffa07a">Normal</text>

    <!-- Ray 3: Roughness -->
    <line x1="57" y1="50" x2="80" y2="43" stroke="url(#ray3)" stroke-width="2" opacity="0.8"/>
    <text x="81" y="43" font-size="2" fill="#ffd700">Rough</text>

    <!-- Ray 4: AO (center) -->
    <line x1="57" y1="50" x2="82" y2="50" stroke="url(#ray4)" stroke-width="2.5" opacity="0.9"/>
    <text x="83" y="51" font-size="2" fill="#90ee90">AO</text>

    <!-- Ray 5: Height -->
    <line x1="57" y1="50" x2="80" y2="57" stroke="url(#ray5)" stroke-width="2" opacity="0.8"/>
    <text x="81" y="58" font-size="2" fill="#87ceeb">Height</text>

    <!-- Ray 6: Emission -->
    <line x1="57" y1="50" x2="77" y2="65" stroke="url(#ray6)" stroke-width="2" opacity="0.8"/>
    <text x="78" y="66" font-size="2" fill="#9370db">Emit</text>

    <!-- Ray 7: Mask (bottom) -->
    <line x1="57" y1="50" x2="75" y2="75" stroke="url(#ray7)" stroke-width="2" opacity="0.8"/>
    <text x="76" y="76" font-size="2" fill="#e0b0ff">Mask</text>
  </g>

  <!-- LAYER 5: COLLECTION WELLS (right side) -->
  <g id="collection-wells">
    <!-- Well 1 -->
    <circle cx="76" cy="25" r="2.5" fill="#ff6b9d" opacity="0.7"/>
    <circle cx="76" cy="25" r="1.5" fill="#ff6b9d"/>

    <!-- Well 2 -->
    <circle cx="78" cy="35" r="2.5" fill="#ffa07a" opacity="0.7"/>
    <circle cx="78" cy="35" r="1.5" fill="#ffa07a"/>

    <!-- Well 3 -->
    <circle cx="81" cy="43" r="2.5" fill="#ffd700" opacity="0.7"/>
    <circle cx="81" cy="43" r="1.5" fill="#ffd700"/>

    <!-- Well 4 (largest - center) -->
    <circle cx="83" cy="50" r="3" fill="#90ee90" opacity="0.7"/>
    <circle cx="83" cy="50" r="2" fill="#90ee90"/>

    <!-- Well 5 -->
    <circle cx="81" cy="57" r="2.5" fill="#87ceeb" opacity="0.7"/>
    <circle cx="81" cy="57" r="1.5" fill="#87ceeb"/>

    <!-- Well 6 -->
    <circle cx="78" cy="65" r="2.5" fill="#9370db" opacity="0.7"/>
    <circle cx="78" cy="65" r="1.5" fill="#9370db"/>

    <!-- Well 7 -->
    <circle cx="76" cy="75" r="2.5" fill="#e0b0ff" opacity="0.7"/>
    <circle cx="76" cy="75" r="1.5" fill="#e0b0ff"/>
  </g>

  <!-- LAYER 6: BAKING OVEN (bottom) -->
  <g id="baking-oven">
    <rect x="30" y="80" width="40" height="10" rx="2" fill="#7d5ab8" opacity="0.8"/>
    <rect x="32" y="82" width="36" height="6" rx="1" fill="#9b6dd8"/>

    <!-- Heat waves -->
    <path d="M35,85 Q37,83 39,85 Q41,87 43,85 Q45,83 47,85"
          stroke="#ffa07a" stroke-width="0.5" fill="none" opacity="0.6"/>
    <path d="M53,85 Q55,83 57,85 Q59,87 61,85 Q63,83 65,85"
          stroke="#ffa07a" stroke-width="0.5" fill="none" opacity="0.6"/>

    <!-- Label -->
    <text x="50" y="87" font-size="2.5" fill="#e5d4ff" text-anchor="middle" font-weight="bold">OPTIMIZE</text>
  </g>

  <!-- LAYER 7: FEEDBACK LOOP (top arc) -->
  <path d="M75,30 Q85,10 50,10 Q15,10 25,50"
        stroke="#c6a0f6" stroke-width="1.5" fill="none" opacity="0.4" stroke-dasharray="3,2"/>
  <text x="50" y="8" font-size="2" fill="#c6a0f6" text-anchor="middle">iterate</text>

  <!-- Flow direction arrows -->
  <g fill="#c6a0f6" opacity="0.6">
    <path d="M30,50 L28,49 L28,51 Z"/>
    <path d="M55,50 L53,49 L53,51 Z"/>
    <path d="M73,28 L71,27 L71,29 Z"/>
    <path d="M73,72 L71,71 L71,73 Z"/>
  </g>

  <!-- Title -->
  <text x="50" y="97" font-size="4" fill="#c6a0f6" text-anchor="middle" font-weight="bold">IMAGINARIUM</text>
</svg>
